(window["webpackJsonpreact-app"]=window["webpackJsonpreact-app"]||[]).push([[0],{142:function(t,e,n){t.exports={Button:"UniqeButton_Button__mjq2e"}},143:function(t,e,n){t.exports={Input:"UniqeInput_Input__3Ofo3"}},147:function(t,e,n){t.exports=n(347)},152:function(t,e,n){},165:function(t,e){},187:function(t,e){},189:function(t,e){},21:function(t,e,n){t.exports={bg:"App_bg__H7pzh",card:"App_card__3tefE",container:"App_container__1MQN3",back:"App_back__3NYkX",front:"App_front__3WQkq"}},227:function(t,e){},229:function(t,e){},260:function(t,e){},307:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=307},347:function(t,e,n){"use strict";n.r(e);var a,r,o=n(2),u=n.n(o),c=n(138),i=n.n(c),s=(n(152),n(11)),l=n.n(s),p=n(26),m=n(139),d=n(140),f=n(145),h=n(141),b=n(146),w=n(21),g=n.n(w),y=n(142),v=n.n(y),E=function(t){return u.a.createElement("button",{className:v.a.Button,onClick:t.onClick},t.children)},x=n(143),k=n.n(x),A=function(t){return u.a.createElement("form",null,u.a.createElement("input",{style:{width:t.width,height:t.height},className:k.a.Input,type:"text",value:t.value,onChange:t.onChange,placeholder:t.placeholder,onFocus:function(t){return t.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(t.placeholder)}}))},_=[{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"changeTotalAmount",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"fund",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"getFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!0,inputs:[],name:"currentAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],C=n(144),N=n.n(C),O=function(){var t=Object(p.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.ethereum&&!window.web3){t.next=12;break}return a=new N.a(window.web3.currentProvider),r=new a.eth.Contract(_,"0x807ccb050FbBA6EB6d5fAC038Fbc5DCe2fbeA260"),t.prev=3,t.next=6,window.ethereum.enable();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(3);case 10:t.next=14;break;case 12:return console.log("Non-Ethereum browser detected. You should consider trying MetaMask!"),t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,null,[[3,8]])}));return function(){return t.apply(this,arguments)}}(),M={total:function(){var t=Object(p.a)(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.methods.totalAmount().call(function(t,e){return e});case 2:return e=t.sent,t.abrupt("return",a.utils.fromWei(e,"ether"));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),fund:function(t){var e=a.utils.toWei(t.toString(),"ether");r.methods.fund(e).send({from:window.ethereum.selectedAddress,value:e,gas:3e6}).then(function(){return console.log("Successfully funded!")})},current:function(){var t=Object(p.a)(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.methods.currentAmount().call(function(t,e){return e});case 2:return e=t.sent,t.abrupt("return",a.utils.fromWei(e,"ether"));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),changeTotal:function(t){var e=a.utils.toWei(t.toString(),"ether");r.methods.changeTotalAmount(e).send({from:window.ethereum.selectedAddress,gas:3e6}).then(function(){return console.log("Successfully changed total amount!")})},widthdrawFunds:function(){r.methods.withdrawFunds().send({from:window.ethereum.selectedAddress,gas:3e6}).then(function(){return console.log("Successfull widthdrawal!")})},checkCompatible:O},S=function(t){function e(t){var n;return Object(m.a)(this,e),(n=Object(f.a)(this,Object(h.a)(e).call(this,t))).state={ratio:0,amount:"",name:"",currentAmount:0,totalAmount:1,compatible:!0},n.smartContractUrl="https://mainnet.infura.io/v3/e2e047becb2f4637aedd036b540d8bb6",n}return Object(b.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this;return this.state.compatible?u.a.createElement("div",{className:g.a.bg},u.a.createElement("div",{className:g.a.card,style:{width:"50%",height:"50%"}},u.a.createElement("h1",null,"Crowdfunding"),u.a.createElement("div",{className:g.a.container},u.a.createElement("div",{style:{width:"60%",flex:3,marginLeft:"20px"}},u.a.createElement("h3",null,this.state.currentAmount.toLocaleString("de-DE")," ETH raised of ",this.state.totalAmount.toLocaleString("de-DE")," ETH"),u.a.createElement("div",{className:g.a.back},u.a.createElement("div",{className:g.a.front,style:{width:"".concat(this.state.ratio,"%")}}))),u.a.createElement("div",{style:{flex:1}}),u.a.createElement("div",{style:{marginTop:"40px",flex:2}},u.a.createElement(A,{onChange:function(e){return t.setState({amount:e.target.value})},value:this.state.amount,placeholder:"Amount",height:"30px",width:"150px"}),u.a.createElement("div",{style:{marginTop:"15px"}}),u.a.createElement(A,{onChange:function(e){return t.setState({name:e.target.value})},value:this.state.name,placeholder:"Name (optional)",height:"30px",width:"150px"}),u.a.createElement("div",{style:{marginTop:"20px"}}),u.a.createElement(E,{onClick:function(){isNaN(Number(t.state.amount))||""===t.state.amount||M.fund(t.state.amount)}},"Fund"))),u.a.createElement("h5",null,u.a.createElement("a",{href:this.smartContractUrl,rel:"noopener noreferrer",target:"_blank"},"View smart contract")))):u.a.createElement(j,null)}},{key:"getAmount",value:function(){var t=Object(p.a)(l.a.mark(function t(){var e,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.current();case 2:return e=t.sent,t.next=5,M.total();case 5:n=t.sent,console.log(e),console.log(n),this.setState({ratio:e/n*100,currentAmount:e,totalAmount:n}),console.log(this.state.ratio);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;M.checkCompatible().then(function(e){e?t.getAmount():t.setState({compatible:!1})})}}]),e}(u.a.Component),j=function(){return u.a.createElement("div",{className:g.a.bg,style:{flexDirection:"column",textAlign:"center"}},u.a.createElement("h1",null,"Your browser is not Dapps compatible"),u.a.createElement("a",{href:"https://metamask.io"},u.a.createElement("div",{style:{margin:"0 20px"}},u.a.createElement("img",{src:"http://airdrop-review.com/wp-content/uploads/2018/05/metamask.png",width:"100%"}))))},T=S;i.a.render(u.a.createElement(T,null),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.38cba644.chunk.js.map